{% comment %}
Renders a single course card.
Requires: course (course object), level_icon (Font Awesome class)
{% endcomment %}

{% assign course = include.course %}

<div class="card shadow-sm h-100 border-0" style="background-color: var(--bs-card-bg);">
    <div class="card-body d-flex p-4">

        {% comment %} LEFT: Icon and Year (Flex Shrink) {% endcomment %}
        <div class="flex-shrink-0 text-center me-4" style="width: 70px;">
            <i class="fas {{ include.level_icon }} fa-2x text-primary mb-2"></i>
            <h5 class="fw-bold text-muted mb-0 lh-1">{{ course.date | date: "%Y" }}</h5>
            <small class="text-muted fw-bold text-uppercase d-block mt-1">{{ course.date | date: "%b" | upcase }}</small>
        </div>

        {% comment %} RIGHT: Content (Flex Grow) {% endcomment %}
        <div class="flex-grow-1">
            <h5 class="card-title fw-bold mb-1 text-body">
                {% comment %} Title uses mandated text-primary link style {% endcomment %}
                <a href="{{ course.url | relative_url }}" class="text-primary text-decoration-none">{{ course.title }}</a>
            </h5>

            <p class="card-text small text-muted">
                {{ course.excerpt | strip_html | truncatewords: 30 }}
            </p>

            <p class="card-text small fst-italic mt-2 text-muted">
                <strong>{{ course.institution }}</strong>, {{ course.semester }}
            </p>

            {% if course.syllabus %}
            <div class="mt-3">
                {% comment %} Use solid btn-primary for high contrast {% endcomment %}
                <a href="{{ course.syllabus | relative_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-sm btn-primary">
                    <i class="fas fa-file-pdf me-1"></i> Syllabus
                </a>
            </div>
            {% endif %}
        </div>
    </div>
</div>